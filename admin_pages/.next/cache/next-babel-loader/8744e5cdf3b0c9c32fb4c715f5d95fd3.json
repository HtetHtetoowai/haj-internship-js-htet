{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\admin_pages\\\\pages\\\\city.js\";\nimport React from \"react\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport { loadFirebase } from '../lib/db';\n\nvar AreaInput = /*#__PURE__*/function (_React$Component) {\n  _inherits(AreaInput, _React$Component);\n\n  var _super = _createSuper(AreaInput);\n\n  function AreaInput() {\n    var _this;\n\n    _classCallCheck(this, AreaInput);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      cities: [\"Sapporo\", \"Asahikawa\", \"hakodate\", \"kushiro\", \"tomakomai\", \"obihiro\", \"otaru\", \"kitami\", \"ebetsu\", \"chitose\", \"Muroran\", \"iwamizawa\", \"Eniwa\", \"Kitahiroshima\", \"ishikari\", \"noboribetsu\", \"hokuto\", \"otofuke\", \"takikawa\", \"abashiri\", \"wakkanai\", \"date\", \"nayoro\", \"nanae\", \"nemuro\", \"makubetsu\", \"nakashibetsu\", \"shinhidaka\", \"mombetsu\", \"bibai\", \"furano\", \"Rumoi\", \"Fugawa\", \"Engaru\", \"Bihoro\", \"Shibetsu\", \"kushiro\", \"yoichi\", \"memuro\", \"shiraoi\", \"sunagawa\", \"tobetsu\", \"yakumo\", \"mori\", \"betsukai\", \"kutchan\", \"ashibetsu\", \"urakawa\", \"lwanai\", \"hidaka\", \"kuriyama\", \"shari\", \"akabira\", \"naganuma\", \"kamifurano\", \"biei\", \"higashikagura\"]\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChange\", function (event) {\n      console.log('calling handlechange');\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      console.log(event.target.value);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleSubmit\", function (event) {\n      console.log(_this.state);\n      event.preventDefault();\n\n      for (var i = 0; i < _this.state.cities.length; i++) {\n        try {\n          var firebase = loadFirebase();\n          firebase.firestore().collection('city').add({\n            cityName: _this.state.cities[i],\n            AREAID: _this.state.area\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(AreaInput, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var area = this.props.area;\n      console.log(area);\n      return __jsx(\"form\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 13\n        }\n      }, __jsx(\"select\", {\n        name: \"area\",\n        onChange: this.handleChange,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }\n      }, area && area.map(function (Area) {\n        return __jsx(\"option\", {\n          value: Area.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 25\n          }\n        }, Area.data.areaName);\n      })), __jsx(\"button\", {\n        onClick: this.handleSubmit,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 17\n        }\n      }, \"Submit\"));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var firebase, result2;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return loadFirebase();\n\n              case 2:\n                firebase = _context.sent;\n                _context.next = 5;\n                return new Promise(function (resolve, reject) {\n                  firebase.firestore().collection('area').limit(10).get().then(function (snapshot) {\n                    console.log(snapshot);\n                    var data2 = [];\n                    snapshot.forEach(function (doc) {\n                      data2.push(Object.assign({\n                        id: doc.id,\n                        data: doc.data()\n                      }));\n                    });\n                    console.log(\"data2\");\n                    resolve(data2);\n                  })[\"catch\"](function (error) {\n                    reject([]);\n                  });\n                });\n\n              case 5:\n                result2 = _context.sent;\n                return _context.abrupt(\"return\", {\n                  area: result2\n                });\n\n              case 7:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps() {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return AreaInput;\n}(React.Component);\n\nexport { AreaInput as default };","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/admin_pages/pages/city.js"],"names":["loadFirebase","AreaInput","cities","event","console","log","setState","target","name","value","state","preventDefault","i","length","firebase","firestore","collection","add","cityName","AREAID","area","error","props","handleChange","map","Area","id","data","areaName","handleSubmit","Promise","resolve","reject","limit","get","then","snapshot","data2","forEach","doc","push","Object","assign","result2","React","Component"],"mappings":"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","sourcesContent":["import {loadFirebase} from '../lib/db'\r\nexport default class AreaInput extends React.Component{\r\n    static async getInitialProps() {\r\n        let firebase = await loadFirebase() \r\n        let result2 = await new Promise((resolve, reject) => {\r\n            firebase.firestore().collection('area')\r\n              .limit(10)\r\n              .get()\r\n              .then(snapshot => {\r\n                console.log(snapshot)\r\n                let data2 = []\r\n                snapshot.forEach((doc) => {\r\n                  data2.push(\r\n                    Object.assign({\r\n                      id: doc.id,\r\n                      data : doc.data()\r\n                    })\r\n                  )\r\n                })\r\n                console.log(\"data2\")\r\n                resolve(data2)\r\n              })\r\n              .catch(error => {\r\n                reject([])\r\n              })\r\n          })\r\n          return {area: result2}\r\n      }\r\n    state = {\r\n        cities : [\r\n            \"Sapporo\",\r\n            \"Asahikawa\",\r\n            \"hakodate\",\r\n            \"kushiro\",\r\n            \"tomakomai\",\r\n            \"obihiro\",\r\n            \"otaru\",\r\n            \"kitami\",\r\n            \"ebetsu\",\r\n            \"chitose\",\r\n            \"Muroran\",\r\n            \"iwamizawa\",\r\n            \"Eniwa\",\r\n            \"Kitahiroshima\",\r\n            \"ishikari\",\r\n            \"noboribetsu\",\r\n            \"hokuto\",\r\n            \"otofuke\",\r\n            \"takikawa\",\r\n            \"abashiri\",\r\n            \"wakkanai\",\r\n            \"date\",\r\n            \"nayoro\",\r\n            \"nanae\",\r\n            \"nemuro\",\r\n            \"makubetsu\",\r\n            \"nakashibetsu\",\r\n            \"shinhidaka\",\r\n            \"mombetsu\",\r\n            \"bibai\",\r\n            \"furano\",\r\n            \"Rumoi\",\r\n            \"Fugawa\",\r\n            \"Engaru\",\r\n            \"Bihoro\",\r\n            \"Shibetsu\",\r\n            \"kushiro\",\r\n            \"yoichi\",\r\n            \"memuro\",\r\n            \"shiraoi\",\r\n            \"sunagawa\",\r\n           \"tobetsu\",\r\n            \"yakumo\",\r\n            \"mori\",\r\n            \"betsukai\",\r\n            \"kutchan\",\r\n            \"ashibetsu\",\r\n            \"urakawa\",\r\n            \"lwanai\",\r\n            \"hidaka\",\r\n            \"kuriyama\",\r\n            \"shari\",\r\n            \"akabira\",\r\n            \"naganuma\",\r\n            \"kamifurano\",\r\n            \"biei\",\r\n            \"higashikagura\"\r\n        ],\r\n    }\r\n    handleChange = (event)=>{\r\n        console.log('calling handlechange')\r\n        this.setState({[event.target.name] : event.target.value})\r\n        console.log(event.target.value)\r\n    }\r\n    handleSubmit = (event) => {\r\n        console.log(this.state)\r\n        event.preventDefault()\r\n        for(var i = 0;i<this.state.cities.length;i++){\r\n            try{\r\n                let firebase = loadFirebase() \r\n                firebase.firestore().collection('city').add({cityName : this.state.cities[i], AREAID : this.state.area})\r\n            }catch (error){\r\n                console.log(error)\r\n            }\r\n        }\r\n    } \r\n    render (){\r\n        const area = this.props.area\r\n        console.log(area)\r\n        return (\r\n            <form>\r\n                <select name=\"area\" onChange={this.handleChange}>\r\n                    {area && area.map(Area => (\r\n                        <option value={Area.id}>{Area.data.areaName}</option>\r\n                    ))}\r\n                </select>\r\n                <button onClick={this.handleSubmit}>Submit</button>\r\n            </form>\r\n        )\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}
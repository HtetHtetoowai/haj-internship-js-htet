{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _jsxFileName = \"C:\\\\Users\\\\lenovo\\\\Desktop\\\\user_pages\\\\pages\\\\filter.js\";\nvar __jsx = React.createElement;\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React from 'react';\nimport Link from 'next/link';\nimport { loadFirebase } from '../lib/db.js';\n\nvar JobListing = /*#__PURE__*/function (_React$Component) {\n  _inherits(JobListing, _React$Component);\n\n  var _super = _createSuper(JobListing);\n\n  function JobListing(props) {\n    var _this;\n\n    _classCallCheck(this, JobListing);\n\n    _this = _super.call(this, props);\n\n    _defineProperty(_assertThisInitialized(_this), \"reGenerateJobs\", function (event) {\n      var jobs = [];\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      if (event.target.value == \"old_to_new\") {\n        try {\n          db.collection('job').orderBy('PostedDate').get().then(function (snaphsot) {\n            snaphsot.forEach(function (doc) {\n              jobs.push(Object.assign({\n                id: doc.id,\n                data: doc.data()\n              }));\n            });\n\n            _this.setState({\n              regenerated_jobs: jobs\n            });\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      } else if (event.target.value == \"new_to_old\") {\n        try {\n          db.collection('job').orderBy('PostedDate').get().then(function (snaphsot) {\n            snaphsot.forEach(function (doc) {\n              jobs.push(Object.assign({\n                id: doc.id,\n                data: doc.data()\n              }));\n            });\n\n            _this.setState({\n              regenerated_jobs: jobs.reverse()\n            });\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      } else {\n        try {\n          db.collection('job').get().then(function (snaphsot) {\n            snaphsot.forEach(function (doc) {\n              jobs.push(Object.assign({\n                id: doc.id,\n                data: doc.data()\n              }));\n            });\n\n            _this.setState({\n              regenerated_jobs: jobs\n            });\n          });\n        } catch (error) {\n          console.log(error);\n        }\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCompanyName\", function (id) {\n      var companies = _this.props.companies;\n      var name = '';\n      companies.map(function (company) {\n        if (company.id == id) {\n          name = company.data.C_Name;\n        }\n      });\n      return name;\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"filterShow\", function () {\n      $(\"#filterModal\").modal('show');\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"quickView\", function (id) {\n      var job = {};\n\n      try {\n        db.collection('job').doc(id).get().then(function (snapshot) {\n          job = snapshot.data();\n\n          _this.setState({\n            View_Jname: job.Jname,\n            View_J_tel: job.J_tel,\n            View_J_min_salary: job.J_min_salary,\n            View_J_max_salary: job.J_max_salary,\n            View_PostedDate: job.PostedDate,\n            View_J_hours: job.J_hours,\n            View_J_email: job.J_email,\n            View_J_city: job.J_city,\n            View_J_area: job.J_area,\n            View_J_Working_Day: job.J_Working_Day,\n            View_J_Qualification: job.J_Qualification,\n            View_J_JpLevel: job.J_JpLevel,\n            View_J_Description: job.J_Description,\n            View_J_Contract: job.J_Contract,\n            View_J_Address: job.J_Address\n          });\n        });\n        $(\"#quickView\").modal('show');\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"applyFilter\", function () {\n      _this.$datatable.clear();\n\n      var jobs = [];\n      var today = new Date(); //const today = {seconds: 1595784600, nanoseconds: 790000000}\n\n      console.log(\"today is \".concat(today));\n      console.log(_this.state);\n\n      try {\n        var query = db.collection('job');\n\n        if (_this.state.J_Contract !== \"\") {\n          query = query.where('J_Contract', '==', _this.state.J_Contract);\n        }\n\n        if (_this.state.J_area !== \"\") {\n          query = query.where('J_area', '==', _this.state.J_area);\n        }\n\n        if (_this.state.J_city !== \"\") {\n          query = query.where('J_city', '==', _this.state.J_city);\n        }\n\n        if (_this.state.J_min_salary !== \"\") {\n          query = query.where('J_min_salary', '>', parseInt(_this.state.J_min_salary));\n        }\n\n        if (_this.state.J_max_salary !== \"\") {\n          query = query.where('J_max_salary', '<', parseInt(_this.state.J_max_salary));\n        }\n\n        if (_this.state.J_JpLevel !== \"\") {\n          query = query.where('J_JpLevel', '<=', parseInt(_this.state.J_JpLevel));\n        } //    <option value=\"\">All Time</option>\n        //    <option value=\"1\">Today</option>\n        //    <option value=\"2\">Last 3 Days</option> \n        //    <option value=\"3\">Last 7 Days</option> \n        //    <option value=\"4\">This Month</option> \n\n\n        if (_this.state.posted_within !== \"\") {\n          switch (_this.state.posted_within) {\n            case '1':\n              query = query.where('PostedDate', '==', today);\n\n            case '2':\n              {\n                query = query.where('PostedDate', '>=', new Date(today.setDate(today.getDate() - 3)));\n                query = query.where('PostedDate', '<=', today);\n              }\n\n            case '3':\n              {\n                query = query.where('PostedDate', '>=', new Date(today.setDate(today.getDate() - 7)));\n                query = query.where('PostedDate', '<=', today);\n              }\n\n            case '4':\n              {\n                query = query.where('PostedDate', '>=', new Date(today.setMonth(today.getMonth() - 1)));\n                query = query.where('PostedDate', '<=', today);\n              }\n          }\n        }\n\n        query.get().then(function (snaphsot) {\n          snaphsot.forEach(function (doc) {\n            jobs.push(Object.assign({\n              id: doc.id,\n              data: doc.data()\n            }));\n          });\n\n          _this.setState({\n            regenerated_jobs: jobs\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"resetFilter\", function () {\n      _this.setState(_this.initialState);\n\n      console.log(_this.state);\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleChangeFilter\", function (event) {\n      event.preventDefault();\n\n      _this.setState(_defineProperty({}, event.target.name, event.target.value));\n\n      if (event.target.name == \"area\") {\n        _this.getCities(event.target.value);\n\n        _this.getAreaName(event.target.value);\n\n        _this.setState({\n          showCities: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCities\", function (id) {\n      var cities = [];\n\n      try {\n        db.collection('city').where('area_id', \"==\", id).get().then(function (snapshot) {\n          snapshot.forEach(function (doc) {\n            cities.push(Object.assign({\n              id: doc.id,\n              data: doc.data()\n            }));\n          });\n\n          _this.setState({\n            cities: cities\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getAreaName\", function (id) {\n      var area = {};\n\n      try {\n        db.collection('area').doc(id).get().then(function (snapshot) {\n          area = snapshot.data();\n\n          _this.setState({\n            areaName: area.areaName\n          });\n        });\n      } catch (error) {\n        console.log(error);\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getDateString\", function (obj) {\n      var t = new Date(1970, 0, 1);\n      t.setSeconds(obj.seconds);\n      return t.getDate() + '/' + (t.getMonth() + 1) + '/' + t.getFullYear();\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getLocation\", function (city_id, area_id) {\n      var cities = _this.props.cities;\n      var areas = _this.props.areas;\n      var city_name = '';\n      var area_name = '';\n      cities.map(function (city) {\n        if (city.id == city_id) {\n          city_name = city.data.cityName;\n        }\n      });\n      areas.map(function (area) {\n        if (area.id == area_id) {\n          area_name = area.data.areaName;\n        }\n      });\n      return city_name + \",\" + area_name;\n    });\n\n    _this.handleChangeFilter = _this.handleChangeFilter.bind(_assertThisInitialized(_this));\n    _this.datatableRef = React.createRef();\n    _this.$datatable = null;\n    _this.initialState = {\n      Jname: '',\n      J_tel: '',\n      J_min_salary: '',\n      J_max_salary: '',\n      PostedDate: '',\n      J_hours: '',\n      J_email: '',\n      J_city: '',\n      J_area: '',\n      J_Working_Day: '',\n      J_Qualification: '',\n      J_JpLevel: '',\n      J_Description: '',\n      J_Contract: '',\n      J_Address: '',\n      regenerated_jobs: _this.props.all_jobs || [],\n      showCities: false,\n      cities: []\n    };\n    _this.state = _this.initialState;\n    return _this;\n  }\n\n  _createClass(JobListing, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.initializeDatatable();\n    }\n  }, {\n    key: \"initializeDatatable\",\n    value: function initializeDatatable() {\n      this.$datatable = $(this.datatableRef.current).DataTable({\n        \"pagingType\": \"full\",\n        \"ordering\": false\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var all_jobs = this.state.regenerated_jobs;\n      var areas = this.props.areas;\n      var cities = this.state.cities;\n      var viewCities = this.props.cities;\n      var stateObj = this.state;\n      return __jsx(\"html\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 342,\n          columnNumber: 13\n        }\n      }, __jsx(\"body\", {\n        id: \"top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 13\n        }\n      }, __jsx(\"nav\", {\n        className: \"navbar nav-color sticky-top\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"site-logo col-6\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }\n      }, __jsx(\"a\", {\n        href: \"index\",\n        style: {\n          fontSize: 30,\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 46\n        }\n      }, \"Nursing Job \", __jsx(\"b\", {\n        style: {\n          color: \"rgb(187, 7, 106)\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 112\n        }\n      }, \"Agency\"))), __jsx(\"a\", {\n        href: \"index\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 346,\n          columnNumber: 13\n        }\n      }, \"Home\"), __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 347,\n          columnNumber: 13\n        }\n      }, \"About\"), __jsx(\"a\", {\n        href: \"contact\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 13\n        }\n      }, \"Contact\"), __jsx(\"a\", {\n        href: \"filter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 13\n        }\n      }, \"Filter\"), __jsx(\"button\", {\n        type: \"button\",\n        className: \"btn btn-float signin\",\n        \"data-toggle\": \"modal\",\n        \"data-target\": \"#myModal\",\n        style: {\n          background: \"rgb(187, 7, 106)\",\n          color: \"white\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 350,\n          columnNumber: 13\n        }\n      }, \"Sign In\")), __jsx(\"div\", {\n        className: \"site-wrap\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 15\n        }\n      }, __jsx(\"section\", {\n        className: \"section-hero overlay inner-page bg-image\",\n        style: {\n          backgroundImage: \"url('/images/1.png')\"\n        },\n        id: \"home-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 15\n        }\n      }, __jsx(\"br\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }\n      }), __jsx(\"h1\", {\n        className: \"font-weight-bold text-center\",\n        style: {\n          color: \"rgba(187, 7, 106)\",\n          width: 600,\n          margin: \"auto\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 361,\n          columnNumber: 15\n        }\n      }, \"A Powerful Job Agency\")), __jsx(\"section\", {\n        className: \"site-section\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 15\n        }\n      }, __jsx(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"row\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"col-lg-12\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368,\n          columnNumber: 37\n        }\n      }, __jsx(\"div\", {\n        className: \"count-job mb-35\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 369,\n          columnNumber: 41\n        }\n      }, __jsx(\"a\", {\n        onClick: this.filterShow,\n        className: \"filter_btn\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 41\n        }\n      }, __jsx(\"img\", {\n        style: {\n          width: 1 + \"em\",\n          height: 1 + \"em\",\n          marginRight: 1 + \"em\"\n        },\n        src: \"/assets/img/logo/filter.png\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 370,\n          columnNumber: 93\n        }\n      }), \"Filter jobs\"), __jsx(\"h5\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373,\n          columnNumber: 45\n        }\n      }, \"\".concat(all_jobs.length, \" - Jobs Found\")), __jsx(\"div\", {\n        className: \"select-job-items\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 375,\n          columnNumber: 45\n        }\n      }, __jsx(\"span\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 49\n        }\n      }, \"Sort by\"), __jsx(\"select\", {\n        name: \"sortby\",\n        style: {\n          marginRight: 1 + \"em\"\n        },\n        onChange: this.reGenerateJobs,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 377,\n          columnNumber: 49\n        }\n      }, __jsx(\"option\", {\n        value: \"none\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 378,\n          columnNumber: 53\n        }\n      }, \"None\"), __jsx(\"option\", {\n        value: \"new_to_old\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 379,\n          columnNumber: 53\n        }\n      }, \"Newest to Oldest\"), __jsx(\"option\", {\n        value: \"old_to_new\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 380,\n          columnNumber: 53\n        }\n      }, \"Oldest to Newest\")))))), __jsx(\"table\", {\n        ref: this.datatableRef,\n        style: {\n          width: 100 + \"%\"\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 386,\n          columnNumber: 15\n        }\n      }, __jsx(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 387,\n          columnNumber: 13\n        }\n      }, __jsx(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 388,\n          columnNumber: 17\n        }\n      }, __jsx(\"th\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 21\n        }\n      }))), __jsx(\"tbody\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 392,\n          columnNumber: 13\n        }\n      }, this.state.regenerated_jobs && this.state.regenerated_jobs.map(function (job) {\n        return __jsx(\"tr\", {\n          id: job.id,\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 394,\n            columnNumber: 21\n          }\n        }, __jsx(\"td\", {\n          className: \"single-job-items \",\n          style: {\n            paddingBottom: 50 + \"px\",\n            paddingTop: 50 + \"px\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"job-items\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397,\n            columnNumber: 21\n          }\n        }, __jsx(\"div\", {\n          className: \"company-img\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 25\n          }\n        }, __jsx(Link, {\n          href: \"/job_detail?id=\".concat(job.id),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 29\n          }\n        }, __jsx(\"a\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 69\n          }\n        }, __jsx(\"img\", {\n          src: \"/assets/img/icon/featured-listing-3.png\",\n          alt: \"\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 72\n          }\n        })))), __jsx(\"div\", {\n          className: \"job-tittle job-tittle2\",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 25\n          }\n        }, __jsx(Link, {\n          href: \"/job_detail?id=\".concat(job.id),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 29\n          }\n        }, __jsx(\"a\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 402,\n            columnNumber: 69\n          }\n        }, __jsx(\"h4\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 403,\n            columnNumber: 33\n          }\n        }, job.data.title))), __jsx(\"ul\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 29\n          }\n        }, __jsx(\"li\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 33\n          }\n        }, __jsx(\"i\", {\n          className: \"fas fa-building \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 37\n          }\n        }), _this2.getCompanyName(job.data.EMPLOYERID)), __jsx(\"li\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 33\n          }\n        }, __jsx(\"i\", {\n          className: \"fas fa-map-marker-alt \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 37\n          }\n        }), _this2.getLocation(job.data.J_city, job.data.J_area))), __jsx(\"ul\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 410,\n            columnNumber: 29\n          }\n        }, __jsx(\"li\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 33\n          }\n        }, __jsx(\"i\", {\n          className: \"fas fa-calendar-alt \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 37\n          }\n        }), _this2.getDateString(job.data.PostedDate)), __jsx(\"li\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 33\n          }\n        }, __jsx(\"i\", {\n          className: \"fas fa-yen-sign \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 37\n          }\n        }), \"\".concat(job.data.J_min_salary, \" ~ \").concat(job.data.J_max_salary)), __jsx(\"li\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 33\n          }\n        }, __jsx(\"i\", {\n          className: \"fas fa-clock \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 37\n          }\n        }), \"\".concat(job.data.J_Contract))))), __jsx(\"div\", {\n          className: \"items-link items-link2 f-right \",\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 21\n          }\n        }, __jsx(\"a\", {\n          onClick: function onClick() {\n            return _this2.quickView(job.id);\n          },\n          style: {\n            cursor: \"pointer\"\n          },\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 25\n          }\n        }, \"Quick View\"), __jsx(Link, {\n          href: \"/job_detail?id=\".concat(job.id),\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 25\n          }\n        }, __jsx(\"a\", {\n          __self: _this2,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 420,\n            columnNumber: 65\n          }\n        }, \"View Details\")))));\n      }))), __jsx(\"div\", {\n        className: \"pagination-area pb-115 text-center \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 429,\n          columnNumber: 9\n        }\n      }, __jsx(\"div\", {\n        className: \"container \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 430,\n          columnNumber: 13\n        }\n      }, __jsx(\"div\", {\n        className: \"row \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 431,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"col-xl-12 \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 21\n        }\n      }, __jsx(\"div\", {\n        className: \"single-wrap d-flex justify-content-center \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 25\n        }\n      }, __jsx(\"nav\", {\n        \"aria-label\": \"Page navigation example \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 29\n        }\n      }, __jsx(\"ul\", {\n        className: \"pagination justify-content-start \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 33\n        }\n      }, __jsx(\"li\", {\n        className: \"page-item \",\n        onClick: this.goFirst,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 37\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 436,\n          columnNumber: 87\n        }\n      }, \"First\")), this.state.current_start > 0 && __jsx(\"li\", {\n        className: \"page-item \",\n        onClick: this.backwardPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 71\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 126\n        }\n      }, __jsx(\"span\", {\n        className: \"ti-angle-left \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 437,\n          columnNumber: 153\n        }\n      }))), all_jobs.length >= this.state.current_start && __jsx(\"li\", {\n        className: \"page-item \",\n        onClick: this.forwardPage,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 86\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 140\n        }\n      }, __jsx(\"span\", {\n        className: \"ti-angle-right \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 438,\n          columnNumber: 167\n        }\n      }))), __jsx(\"li\", {\n        className: \"page-item \",\n        onClick: this.goLast,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 37\n        }\n      }, __jsx(\"a\", {\n        className: \"page-link \",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 439,\n          columnNumber: 86\n        }\n      }, \"Last\"))))))))))), __jsx(\"footer\", {\n        className: \"site-footer\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 15\n        }\n      }, __jsx(\"div\", {\n        className: \"container\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 456,\n          columnNumber: 17\n        }\n      }, __jsx(\"div\", {\n        className: \"row mb-5\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 19\n        }\n      }, __jsx(\"div\", {\n        className: \"col-6 col-md-3 mb-4 mb-md-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 458,\n          columnNumber: 21\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 23\n        }\n      }, \"Address\"), __jsx(\"ul\", {\n        className: \"list-unstyled\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 23\n        }\n      }, __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 29\n        }\n      }, \"87,Ward Tyokyo,Japan \")), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 462,\n          columnNumber: 29\n        }\n      }, \"nursejobagency@gmail.com\")), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 29\n        }\n      }, \"864-11-222\")))), __jsx(\"div\", {\n        className: \"col-6 col-md-3 mb-4 mb-md-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 21\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 23\n        }\n      }, \"Company\"), __jsx(\"ul\", {\n        className: \"list-unstyled\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469,\n          columnNumber: 23\n        }\n      }, __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 29\n        }\n      }, \"About Us\")), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471,\n          columnNumber: 29\n        }\n      }, \"Resources\")))), __jsx(\"div\", {\n        className: \"col-6 col-md-3 mb-4 mb-md-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474,\n          columnNumber: 21\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475,\n          columnNumber: 23\n        }\n      }, \"Support\"), __jsx(\"ul\", {\n        className: \"list-unstyled\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476,\n          columnNumber: 23\n        }\n      }, __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477,\n          columnNumber: 29\n        }\n      }, \"Support\")), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 478,\n          columnNumber: 29\n        }\n      }, \"Privacy\")), __jsx(\"li\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 25\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 479,\n          columnNumber: 29\n        }\n      }, \"Terms of Service\")))), __jsx(\"div\", {\n        className: \"col-6 col-md-3 mb-4 mb-md-0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 482,\n          columnNumber: 21\n        }\n      }, __jsx(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 483,\n          columnNumber: 23\n        }\n      }, \"Contact Us\"), __jsx(\"div\", {\n        className: \"footer-social\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 484,\n          columnNumber: 23\n        }\n      }, __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 25\n        }\n      }, __jsx(\"span\", {\n        className: \"icon-facebook\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 485,\n          columnNumber: 37\n        }\n      })), __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 25\n        }\n      }, __jsx(\"span\", {\n        className: \"icon-twitter\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 486,\n          columnNumber: 37\n        }\n      })), __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 25\n        }\n      }, __jsx(\"span\", {\n        className: \"icon-instagram\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 37\n        }\n      })), __jsx(\"a\", {\n        href: \"#\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 25\n        }\n      }, __jsx(\"span\", {\n        className: \"icon-linkedin\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 488,\n          columnNumber: 37\n        }\n      }))))))))));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function () {\n      var _getInitialProps = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(type) {\n        var all_jobs, companies, cities, areas, firebase, querySnapshotAllJobs, querySnapshotCompanies, querySnapshotCities, querySnapshotAreas;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                all_jobs = [];\n                companies = [];\n                cities = [];\n                areas = [];\n                firebase = loadFirebase();\n                _context.next = 7;\n                return firebase.firestore().collection('job').get();\n\n              case 7:\n                querySnapshotAllJobs = _context.sent;\n                querySnapshotAllJobs.forEach(function (doc) {\n                  all_jobs.push(Object.assign({\n                    id: doc.id,\n                    data: doc.data()\n                  }));\n                });\n                _context.next = 11;\n                return firebase.firestore().collection('employer').get();\n\n              case 11:\n                querySnapshotCompanies = _context.sent;\n                querySnapshotCompanies.forEach(function (doc) {\n                  companies.push(Object.assign({\n                    id: doc.id,\n                    data: doc.data()\n                  }));\n                });\n                _context.next = 15;\n                return firebase.firestore().collection('city').get();\n\n              case 15:\n                querySnapshotCities = _context.sent;\n                querySnapshotCities.forEach(function (doc) {\n                  cities.push(Object.assign({\n                    id: doc.id,\n                    data: doc.data()\n                  }));\n                });\n                _context.next = 19;\n                return firebase.firestore().collection('area').get();\n\n              case 19:\n                querySnapshotAreas = _context.sent;\n                querySnapshotAreas.forEach(function (doc) {\n                  areas.push(Object.assign({\n                    id: doc.id,\n                    data: doc.data()\n                  }));\n                });\n                return _context.abrupt(\"return\", {\n                  all_jobs: all_jobs,\n                  companies: companies,\n                  cities: cities,\n                  areas: areas\n                });\n\n              case 22:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n\n      function getInitialProps(_x) {\n        return _getInitialProps.apply(this, arguments);\n      }\n\n      return getInitialProps;\n    }()\n  }]);\n\n  return JobListing;\n}(React.Component);\n\nexport { JobListing as default };","map":{"version":3,"sources":["C:/Users/lenovo/Desktop/user_pages/pages/filter.js"],"names":["React","Link","loadFirebase","JobListing","props","event","jobs","setState","target","name","value","db","collection","orderBy","get","then","snaphsot","forEach","doc","push","Object","assign","id","data","regenerated_jobs","error","console","log","reverse","companies","map","company","C_Name","$","modal","job","snapshot","View_Jname","Jname","View_J_tel","J_tel","View_J_min_salary","J_min_salary","View_J_max_salary","J_max_salary","View_PostedDate","PostedDate","View_J_hours","J_hours","View_J_email","J_email","View_J_city","J_city","View_J_area","J_area","View_J_Working_Day","J_Working_Day","View_J_Qualification","J_Qualification","View_J_JpLevel","J_JpLevel","View_J_Description","J_Description","View_J_Contract","J_Contract","View_J_Address","J_Address","$datatable","clear","today","Date","state","query","where","parseInt","posted_within","setDate","getDate","setMonth","getMonth","initialState","preventDefault","getCities","getAreaName","showCities","cities","area","areaName","obj","t","setSeconds","seconds","getFullYear","city_id","area_id","areas","city_name","area_name","city","cityName","handleChangeFilter","bind","datatableRef","createRef","all_jobs","initializeDatatable","current","DataTable","viewCities","stateObj","fontSize","color","background","backgroundImage","width","margin","filterShow","height","marginRight","length","reGenerateJobs","paddingBottom","paddingTop","title","getCompanyName","EMPLOYERID","getLocation","getDateString","quickView","cursor","goFirst","current_start","backwardPage","forwardPage","goLast","type","firebase","firestore","querySnapshotAllJobs","querySnapshotCompanies","querySnapshotCities","querySnapshotAreas","Component"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport Link from 'next/link'\r\nimport {loadFirebase} from '../lib/db.js';\r\n\r\n\r\nexport default class JobListing extends React.Component {\r\n    constructor (props){\r\n        super(props)\r\n        this.handleChangeFilter = this.handleChangeFilter.bind(this)\r\n        this.datatableRef = React.createRef();\r\n        this.$datatable = null\r\n\r\n        this.initialState = {\r\n            Jname:'',\r\n            J_tel:'',\r\n            J_min_salary:'',\r\n            J_max_salary:'',\r\n            PostedDate:'',\r\n            J_hours:'',\r\n            J_email:'',\r\n            J_city:'',\r\n            J_area:'',\r\n            J_Working_Day:'',\r\n            J_Qualification:'',\r\n            J_JpLevel:'',\r\n            J_Description:'',\r\n            J_Contract:'',\r\n            J_Address:'',\r\n        regenerated_jobs : this.props.all_jobs || [],\r\n            showCities : false,\r\n            cities : []\r\n        }\r\n        this.state = this.initialState\r\n    }\r\n    \r\n    componentDidMount() {\r\n        this.initializeDatatable()\r\n    }\r\n    \r\n    initializeDatatable() {\r\n        this.$datatable = $(this.datatableRef.current).DataTable({\r\n            \"pagingType\": \"full\",\r\n            \"ordering\" : false\r\n        });\r\n\r\n       \r\n    }\r\n    static async getInitialProps(type){\r\n        let all_jobs = []\r\n        let companies = []\r\n        let cities = []\r\n        let areas = []\r\n        let firebase = loadFirebase()\r\n\r\n        const querySnapshotAllJobs = await firebase.firestore().collection('job').get()\r\n        querySnapshotAllJobs.forEach(doc => {\r\n          all_jobs.push(Object.assign(\r\n              {id : doc.id,\r\n            data : doc.data()}\r\n          ))\r\n        })\r\n\r\n        const querySnapshotCompanies = await firebase.firestore().collection('employer').get()\r\n        querySnapshotCompanies.forEach(doc => {\r\n          companies.push(Object.assign(\r\n              {id : doc.id,\r\n            data : doc.data()}\r\n          ))\r\n        })\r\n\r\n        const querySnapshotCities = await firebase.firestore().collection('city').get()\r\n        querySnapshotCities.forEach(doc => {\r\n          cities.push(Object.assign(\r\n              {id : doc.id,\r\n            data : doc.data()}\r\n          ))\r\n        })\r\n\r\n        const querySnapshotAreas = await firebase.firestore().collection('area').get()\r\n        querySnapshotAreas.forEach(doc => {\r\n          areas.push(Object.assign(\r\n              {id : doc.id,\r\n            data : doc.data()}\r\n          ))\r\n        })\r\n        return {all_jobs, companies, cities, areas}\r\n    }\r\n\r\n    \r\n\r\n    reGenerateJobs = (event) => {\r\n            let jobs = []\r\n            this.setState({[event.target.name] : event.target.value})\r\n            if(event.target.value == \"old_to_new\")\r\n            {\r\n                \r\n                try{\r\n                    db.collection('job').orderBy('PostedDate').get()\r\n                    .then(snaphsot => {\r\n                        snaphsot.forEach(doc=>{\r\n                            jobs.push(Object.assign({\r\n                                id : doc.id,\r\n                                data : doc.data()\r\n                            }))\r\n                        })\r\n                        this.setState({regenerated_jobs : jobs})\r\n                    })\r\n                }catch(error){\r\n                    console.log(error)\r\n                }\r\n            }else if(event.target.value == \"new_to_old\")\r\n            {\r\n                try{\r\n                    db.collection('job').orderBy('PostedDate').get()\r\n                    .then(snaphsot => {\r\n                        snaphsot.forEach(doc=>{\r\n                            jobs.push(Object.assign({\r\n                                id : doc.id,\r\n                                data : doc.data()\r\n                            }))\r\n                        })\r\n                        this.setState({regenerated_jobs : jobs.reverse()})\r\n                    })\r\n                }catch(error){\r\n                    console.log(error)\r\n                }\r\n            }else {\r\n                try{\r\n                    db.collection('job').get()\r\n                    .then(snaphsot => {\r\n                        snaphsot.forEach(doc=>{\r\n                            jobs.push(Object.assign({\r\n                                id : doc.id,\r\n                                data : doc.data()\r\n                            }))\r\n                        })\r\n                        this.setState({regenerated_jobs : jobs})\r\n                    })\r\n                }catch(error){\r\n                    console.log(error)\r\n                }\r\n            }\r\n    }\r\n\r\n    getCompanyName = (id) => {\r\n        \r\n       const companies = this.props.companies\r\n       let name = ''\r\n       companies.map(company=>{\r\n           if(company.id == id){\r\n               name = company.data.C_Name\r\n           }\r\n       })\r\n       return name\r\n    }\r\n\r\n    filterShow = () => {\r\n        $(\"#filterModal\").modal('show')\r\n    }\r\n\r\n    quickView = (id) => {\r\n        let job = {}\r\n        try{\r\n            db.collection('job').doc(id).get()\r\n            .then(snapshot => {\r\n                job = snapshot.data()\r\n                this.setState({\r\n                    View_Jname:job.Jname,\r\n            View_J_tel:job.J_tel,\r\n            View_J_min_salary:job.J_min_salary,\r\n            View_J_max_salary:job.J_max_salary,\r\n            View_PostedDate:job.PostedDate,\r\n            View_J_hours:job.J_hours,\r\n            View_J_email:job.J_email,\r\n            View_J_city:job.J_city,\r\n            View_J_area:job.J_area,\r\n            View_J_Working_Day:job.J_Working_Day,\r\n            View_J_Qualification:job.J_Qualification,\r\n            View_J_JpLevel:job.J_JpLevel,\r\n            View_J_Description:job.J_Description,\r\n            View_J_Contract:job.J_Contract,\r\n            View_J_Address:job.J_Address,\r\n                })\r\n            })\r\n            $(\"#quickView\").modal('show')\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n        \r\n    }\r\n\r\n    applyFilter = () => {\r\n        this.$datatable.clear()\r\n        let jobs = []\r\n        const today = new Date()\r\n        //const today = {seconds: 1595784600, nanoseconds: 790000000}\r\n        console.log(`today is ${today}`)\r\n        console.log(this.state)\r\n        try{\r\n            var query = db.collection('job')\r\n            if(this.state.J_Contract !== \"\"){\r\n                query = query.where('J_Contract','==',this.state.J_Contract)\r\n            }\r\n            if(this.state.J_area !== \"\"){\r\n                query = query.where('J_area','==',this.state.J_area)\r\n            }\r\n            if(this.state.J_city !== \"\"){\r\n                query = query.where('J_city','==',this.state.J_city)\r\n            }\r\n            if(this.state.J_min_salary !== \"\"){\r\n                query = query.where('J_min_salary','>',parseInt(this.state.J_min_salary))\r\n            }\r\n            if(this.state.J_max_salary !== \"\"){\r\n                query = query.where('J_max_salary','<',parseInt(this.state.J_max_salary))\r\n            }\r\n           \r\n            if(this.state.J_JpLevel !== \"\"){\r\n                query = query.where('J_JpLevel','<=',parseInt(this.state.J_JpLevel))\r\n            }\r\n\r\n            //    <option value=\"\">All Time</option>\r\n            //    <option value=\"1\">Today</option>\r\n            //    <option value=\"2\">Last 3 Days</option> \r\n            //    <option value=\"3\">Last 7 Days</option> \r\n            //    <option value=\"4\">This Month</option> \r\n\r\n            if(this.state.posted_within !== \"\"){\r\n                switch(this.state.posted_within){\r\n                    case '1' : query = query.where('PostedDate','==',today)\r\n                    case '2' : {\r\n                        query = query.where('PostedDate','>=',new Date(today.setDate(today.getDate()-3)))\r\n                        query = query.where('PostedDate','<=',today)\r\n                    }\r\n                    case '3' : {\r\n                        query = query.where('PostedDate','>=',new Date(today.setDate(today.getDate()-7)))\r\n                        query = query.where('PostedDate','<=',today)\r\n                    }\r\n                    case '4' : {\r\n                        query = query.where('PostedDate','>=',new Date(today.setMonth(today.getMonth()-1)))\r\n                        query = query.where('PostedDate','<=',today)\r\n                    }             \r\n                }\r\n                \r\n            }\r\n            query.get()\r\n            .then(snaphsot => {\r\n                snaphsot.forEach(doc=>{\r\n                    jobs.push(Object.assign({\r\n                        id : doc.id,\r\n                        data : doc.data()\r\n                    }))\r\n                })\r\n                this.setState({regenerated_jobs : jobs})\r\n            })\r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    resetFilter = () => {\r\n        this.setState(this.initialState)\r\n        console.log(this.state)\r\n    }\r\n\r\n    handleChangeFilter = (event) => {\r\n        event.preventDefault()\r\n        this.setState({[event.target.name] : event.target.value});\r\n            if(event.target.name == \"area\"){\r\n                this.getCities(event.target.value)\r\n                this.getAreaName(event.target.value)\r\n                this.setState({showCities : true})\r\n            }\r\n            \r\n    }\r\n\r\n    getCities = (id) => {\r\n        let cities = []\r\n        try{\r\n            db.collection('city').where('area_id',\"==\",id).get().\r\n            then((snapshot)=>{\r\n                snapshot.forEach(doc => {\r\n                    cities.push(Object.assign(\r\n                        {id : doc.id,\r\n                      data : doc.data()}\r\n                    ))\r\n                })\r\n                this.setState({cities})\r\n            })\r\n            \r\n        }catch(error){\r\n            console.log(error)\r\n        }\r\n    }\r\n\r\n    getAreaName = (id) => {\r\n        let area = {}\r\n        try{\r\n          db.collection('area').doc(id).get()\r\n          .then((snapshot)=>{\r\n              area = snapshot.data();\r\n              this.setState({areaName : area.areaName})\r\n          })\r\n          \r\n      }catch(error){\r\n          console.log(error)\r\n      }\r\n      }\r\n      \r\n    getDateString = (obj) => {\r\n        var t = new Date(1970, 0, 1);\r\n        t.setSeconds(obj.seconds);\r\n        return t.getDate()+'/'+(t.getMonth()+1)+'/'+t.getFullYear()\r\n    }\r\n    getLocation = (city_id,area_id) => {\r\n        \r\n        const cities = this.props.cities\r\n        const areas = this.props.areas\r\n        \r\n        let city_name = ''\r\n        let area_name = ''\r\n\r\n        cities.map(city=>{\r\n            if(city.id == city_id){\r\n                city_name = city.data.cityName\r\n            }\r\n        })\r\n\r\n        areas.map(area=>{\r\n            if(area.id == area_id){\r\n                area_name = area.data.areaName\r\n            }\r\n        })\r\n       return city_name + \",\" + area_name\r\n     }\r\n     render(){\r\n      const all_jobs = this.state.regenerated_jobs\r\n      const areas = this.props.areas\r\n      const cities = this.state.cities\r\n      const viewCities = this.props.cities\r\n      const stateObj = this.state\r\n        return(\r\n            <html>\r\n            <body id=\"top\">\r\n            <nav className=\"navbar nav-color sticky-top\">\r\n            <div className=\"site-logo col-6\"><a href=\"index\" style={{fontSize:30, color: \"white\"}}>Nursing Job <b style={{color : \"rgb(187, 7, 106)\"}}>Agency</b></a></div>\r\n            <a href=\"index\">Home</a>\r\n            <a href=\"#\">About</a>\r\n            <a href=\"contact\">Contact</a>\r\n            <a href=\"filter\">Filter</a>\r\n            <button type=\"button\" className=\"btn btn-float signin\" data-toggle=\"modal\" data-target=\"#myModal\" style={{background: \"rgb(187, 7, 106)\", color: \"white\"}}>Sign In</button>\r\n            </nav>\r\n         \r\n              <div className=\"site-wrap\">\r\n              \r\n    \r\n                  \r\n              \r\n            \r\n              <section className=\"section-hero overlay inner-page bg-image\" style={{backgroundImage: \"url('/images/1.png')\"}}id=\"home-section\">\r\n                <br/>\r\n              <h1 className=\"font-weight-bold text-center\" style={{color:\"rgba(187, 7, 106)\", width:600, margin:\"auto\"}}>A Powerful Job Agency</h1>\r\n                        \r\n               \r\n              </section>\r\n              <section className=\"site-section\">\r\n                <div className=\"container\">\r\n                <div className=\"row\">\r\n                                    <div className=\"col-lg-12\">\r\n                                        <div className=\"count-job mb-35\">\r\n                                        <a onClick={this.filterShow} className=\"filter_btn\"><img style={{width : 1+\"em\",height : 1+\"em\", marginRight : 1+\"em\"}} src=\"/assets/img/logo/filter.png\"></img>Filter jobs</a>\r\n                                           \r\n                                            \r\n                                            <h5>{`${all_jobs.length} - Jobs Found`}</h5>\r\n                                            \r\n                                            <div className=\"select-job-items\">\r\n                                                <span>Sort by</span>\r\n                                                <select name=\"sortby\" style={{marginRight : 1+\"em\"}} onChange={this.reGenerateJobs}>\r\n                                                    <option value=\"none\">None</option>\r\n                                                    <option value=\"new_to_old\">Newest to Oldest</option>\r\n                                                    <option value=\"old_to_new\">Oldest to Newest</option>\r\n                                                </select>\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n              <table ref={this.datatableRef} style={{width : 100 + \"%\"}}>\r\n            <thead>\r\n                <tr>\r\n                    <th></th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                {this.state.regenerated_jobs && this.state.regenerated_jobs.map((job) => (\r\n                    <tr id={job.id} >\r\n\r\n                    <td className=\"single-job-items \" style={{paddingBottom : 50+\"px\",paddingTop : 50+\"px\"}}>\r\n                    <div className=\"job-items\">\r\n                        <div className=\"company-img\">\r\n                            <Link href={`/job_detail?id=${job.id}`}><a><img src=\"/assets/img/icon/featured-listing-3.png\" alt=\"\"/></a></Link>\r\n                        </div>\r\n                        <div className=\"job-tittle job-tittle2\">\r\n                            <Link href={`/job_detail?id=${job.id}`}><a>\r\n                                <h4>{job.data.title}</h4>\r\n                            </a></Link>\r\n                            <ul>\r\n                                <li><i className=\"fas fa-building \"></i>{this.getCompanyName(job.data.EMPLOYERID)}</li>\r\n                                <li><i className=\"fas fa-map-marker-alt \"></i>{this.getLocation(job.data.J_city,job.data.J_area)}</li>\r\n\r\n                            </ul>\r\n                            <ul>\r\n                                <li><i className=\"fas fa-calendar-alt \"></i>{this.getDateString(job.data.PostedDate)}</li>\r\n                                <li><i className=\"fas fa-yen-sign \"></i>{`${job.data.J_min_salary} ~ ${job.data.J_max_salary}`}</li>\r\n                                <li><i className=\"fas fa-clock \"></i>{`${job.data.J_Contract}`}\r\n                                </li>\r\n                            </ul>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"items-link items-link2 f-right \">\r\n                        <a onClick={()=>this.quickView(job.id)} style={{cursor : \"pointer\"}}>Quick View</a>\r\n                        <Link href={`/job_detail?id=${job.id}`}><a>View Details</a></Link>\r\n                    </div>\r\n                </td>\r\n                    </tr>\r\n                ) )\r\n                }\r\n            </tbody>\r\n        </table>\r\n                      \r\n        <div className=\"pagination-area pb-115 text-center \">\r\n            <div className=\"container \">\r\n                <div className=\"row \">\r\n                    <div className=\"col-xl-12 \">\r\n                        <div className=\"single-wrap d-flex justify-content-center \">\r\n                            <nav aria-label=\"Page navigation example \">\r\n                                <ul className=\"pagination justify-content-start \">\r\n                                    <li className=\"page-item \" onClick={this.goFirst}><a className=\"page-link \" >First</a></li>\r\n                                    {this.state.current_start > 0 && (<li className=\"page-item \" onClick={this.backwardPage}><a className=\"page-link \" ><span className=\"ti-angle-left \"></span></a></li>)}\r\n                                    {all_jobs.length >= this.state.current_start && (<li className=\"page-item \" onClick={this.forwardPage}><a className=\"page-link \" ><span className=\"ti-angle-right \"></span></a></li>)}\r\n                                    <li className=\"page-item \" onClick={this.goLast}><a className=\"page-link \" >Last</a></li>\r\n                                    \r\n                                </ul>\r\n                            </nav>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n          \r\n          </div></section>  \r\n          \r\n              \r\n                  \r\n              <footer className=\"site-footer\">\r\n          \r\n                \r\n                <div className=\"container\">\r\n                  <div className=\"row mb-5\">\r\n                    <div className=\"col-6 col-md-3 mb-4 mb-md-0\">\r\n                      <h3>Address</h3>\r\n                      <ul className=\"list-unstyled\">\r\n                        <li><a href=\"#\">87,Ward Tyokyo,Japan </a></li>\r\n                        <li><a href=\"#\">nursejobagency@gmail.com</a></li>\r\n                        <li><a href=\"#\">864-11-222</a></li>\r\n                        \r\n                      </ul>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 mb-4 mb-md-0\">\r\n                      <h3>Company</h3>\r\n                      <ul className=\"list-unstyled\">\r\n                        <li><a href=\"#\">About Us</a></li>\r\n                        <li><a href=\"#\">Resources</a></li>\r\n                      </ul>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 mb-4 mb-md-0\">\r\n                      <h3>Support</h3>\r\n                      <ul className=\"list-unstyled\">\r\n                        <li><a href=\"#\">Support</a></li>\r\n                        <li><a href=\"#\">Privacy</a></li>\r\n                        <li><a href=\"#\">Terms of Service</a></li>\r\n                      </ul>\r\n                    </div>\r\n                    <div className=\"col-6 col-md-3 mb-4 mb-md-0\">\r\n                      <h3>Contact Us</h3>\r\n                      <div className=\"footer-social\">\r\n                        <a href=\"#\"><span className=\"icon-facebook\"></span></a>\r\n                        <a href=\"#\"><span className=\"icon-twitter\"></span></a>\r\n                        <a href=\"#\"><span className=\"icon-instagram\"></span></a>\r\n                        <a href=\"#\"><span className=\"icon-linkedin\"></span></a>\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n          \r\n                 \r\n                </div>\r\n              </footer>\r\n            \r\n            </div>\r\n          \r\n         \r\n               \r\n            </body>\r\n          </html>\r\n        )\r\n    }\r\n} "]},"metadata":{},"sourceType":"module"}